<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Products</title>
  
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="./view.css">
   
  <!-- AJAXScript -->
  <script type="text/javascript" src="ajax.js"></script>
</head>

<body>
  
  <%- include("home.ejs") %>

 
  <div class="main">
    <div class="container container-box">
      <h3 class="mb-4 text-center text-dark"> View All Products</h3>

    
      <div class="form-group">
        <input type="text" name="name" class="form-control" placeholder=" Search by Category" onkeyup="searchCategory(this.value)">
      </div>

      
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>SR No</th>
              <th>Name</th>
              <th>Category</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>DELETE</th>
              <th>UPDATE</th>
            </tr>
          </thead>
          <tbody id="tblBody">
            <% if(ProdList.length != 0) { %>
              <% ProdList.forEach((row, index) => { %>
                <tr>
                  <td><%= index + 1 %></td>
                  <td><%= row.name %></td>
                  <td><%= row.category %></td>
                  <td>â‚¹ <%= row.price %></td>
                  <td><%= row.quantity %></td>
                  <td>
                    <a class="btn-delete" href="/deleteProd?id=<%= row.id %>"> Delete</a>
                  </td>
                  <td>
                    <a class="btn-update" href="/updateProd?id=<%= row.id %>&name=<%= row.name %>&category=<%= row.category %>&price=<%= row.price %>&quantity=<%= row.quantity %>"> Update</a>
                  </td>
                </tr>
              <% }) %>
            <% } else { %>
              <tr>
                <td colspan="7" class="text-center text-danger font-weight-bold"> No data found!</td>
              </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
